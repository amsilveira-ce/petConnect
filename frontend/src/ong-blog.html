<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog da ONG | PetConnect</title>
  <link rel="icon" type="image/x-icon" href="http://127.0.0.1:5501/frontend/public/logos/logo.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#ec4899',
            secondary: '#fce7f3',
          },
        },
      },
    };
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Navbar -->
  <nav class="bg-white shadow-md sticky top-0 z-10">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center gap-3">
        <img src="http://127.0.0.1:5501/frontend/public/logos/logo.svg" class="h-10 w-10" alt="PetConnect">
        <span class="font-mono text-2xl font-semibold">PetConnect</span>
      </div>
      <div class="hidden md:flex gap-8">
        <a href="ong-dashboard.html" class="text-gray-700 hover:text-primary transition">Dashboard</a>
        <a href="pets-ong.html" class="text-gray-700 hover:text-primary transition">Meus Pets</a>
        <a href="requests-ong.html" class="text-gray-700 hover:text-primary transition">Solicita√ß√µes</a>
        <a href="ong-blog.html" class="text-primary font-semibold">Posts</a>
        <button id="logoutBtn" class="bg-primary text-white px-6 py-2 rounded-full hover:bg-pink-600 transition">Sair</button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto px-6 py-12">
    <div class="flex justify-between items-center mb-8">
      <div>
        <h1 class="text-4xl font-bold text-gray-900">Blog da ONG</h1>
        <p class="text-gray-600 mt-2">Compartilhe hist√≥rias, eventos e dicas sobre ado√ß√£o</p>
      </div>
      <button id="openNewPostModal" class="bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-pink-600 transition transform hover:scale-105 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
        </svg>
        Novo Post
      </button>
    </div>

    <!-- Posts Grid -->
    <section id="postsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></section>
  </main>

  <!-- Modal de Visualiza√ß√£o de Post -->
  <div id="viewPostModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
      <!-- Modal Header -->
      <div class="sticky top-0 bg-white border-b px-8 py-6 flex justify-between items-center rounded-t-2xl">
        <h2 id="viewPostTitle" class="text-2xl font-bold text-gray-900"></h2>
        <button id="closeViewPostModal" class="text-gray-500 hover:text-gray-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Modal Content -->
      <div class="p-8">
        <div id="viewPostCategory" class="mb-4"></div>
        <img id="viewPostImage" src="" alt="" class="w-full h-80 object-cover rounded-xl mb-6">
        
        <div class="flex items-center gap-4 text-sm text-gray-600 mb-6">
          <span id="viewPostAuthor" class="flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
          </span>
          <span id="viewPostDate" class="flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </span>
        </div>

        <div id="viewPostContent" class="prose max-w-none text-gray-700 leading-relaxed whitespace-pre-line"></div>

        <div id="viewPostTags" class="mt-8 flex flex-wrap gap-2"></div>

        <div class="mt-8 pt-6 border-t flex gap-3">
          <button id="editPostBtn" class="flex-1 bg-blue-500 text-white px-6 py-3 rounded-full font-medium hover:bg-blue-600 transition">
            ‚úèÔ∏è Editar Post
          </button>
          <button id="deletePostBtn" class="flex-1 bg-red-500 text-white px-6 py-3 rounded-full font-medium hover:bg-red-600 transition">
            üóëÔ∏è Excluir Post
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Novo/Editar Post -->
  <div id="newPostModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto">
      <!-- Modal Header -->
      <div class="sticky top-0 bg-white border-b px-8 py-6 flex justify-between items-center rounded-t-2xl">
        <h2 id="formModalTitle" class="text-2xl font-bold text-gray-900 flex items-center gap-2">
          <span>‚úçÔ∏è</span> Criar Novo Post
        </h2>
        <button id="closeNewPostModal" class="text-gray-500 hover:text-gray-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Modal Content -->
      <form id="newPostForm" class="p-8 space-y-6">
        <input type="hidden" id="editPostId" value="">
        
        <!-- T√≠tulo -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            T√≠tulo do Post <span class="text-red-500">*</span>
          </label>
          <input 
            type="text" 
            id="postTitle"
            name="title"
            required
            maxlength="100"
            placeholder="Ex: Hist√≥ria de supera√ß√£o: Rex encontrou um lar ‚ù§Ô∏è"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition"
          >
          <p class="text-xs text-gray-500 mt-1">M√°ximo 100 caracteres</p>
        </div>

        <!-- Categoria -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            Categoria <span class="text-red-500">*</span>
          </label>
          <select 
            id="postCategory"
            name="category"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition"
          >
            <option value="">Selecione uma categoria</option>
            <option value="adoption-story">üè† Hist√≥ria de Ado√ß√£o</option>
            <option value="event">üìÖ Evento</option>
            <option value="tips">üí° Dicas e Orienta√ß√µes</option>
            <option value="news">üì∞ Not√≠cias</option>
            <option value="campaign">üì¢ Campanha</option>
            <option value="rescue">üö® Resgate</option>
            <option value="other">üìù Outro</option>
          </select>
        </div>

        <!-- Resumo -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            Resumo <span class="text-red-500">*</span>
          </label>
          <textarea 
            id="postExcerpt"
            name="excerpt"
            required
            maxlength="200"
            rows="3"
            placeholder="Escreva um breve resumo do post (ser√° exibido no card)"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition resize-none"
          ></textarea>
          <p class="text-xs text-gray-500 mt-1">M√°ximo 200 caracteres - <span id="excerptCount">0</span>/200</p>
        </div>

        <!-- Conte√∫do -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            Conte√∫do Completo <span class="text-red-500">*</span>
          </label>
          <textarea 
            id="postContent"
            name="content"
            required
            minlength="100"
            rows="10"
            placeholder="Escreva o conte√∫do completo do seu post aqui..."
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition resize-none"
          ></textarea>
          <p class="text-xs text-gray-500 mt-1">M√≠nimo 100 caracteres - <span id="contentCount">0</span> caracteres</p>
        </div>

        <!-- URL da Imagem -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            URL da Imagem de Capa <span class="text-red-500">*</span>
          </label>
          <input 
            type="url" 
            id="postImageUrl"
            name="imageUrl"
            required
            placeholder="https://exemplo.com/imagem.jpg"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition"
          >
          <p class="text-xs text-gray-500 mt-1">Cole o link de uma imagem</p>
        </div>

        <!-- Tags -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            Tags (opcional)
          </label>
          <input 
            type="text" 
            id="postTags"
            name="tags"
            placeholder="ado√ß√£o, cachorro, resgate (separadas por v√≠rgula)"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition"
          >
        </div>

        <!-- Destaque -->
        <div class="flex items-center gap-3">
          <input 
            type="checkbox" 
            id="postFeatured"
            name="featured"
            class="w-5 h-5 text-primary rounded focus:ring-primary"
          >
          <label for="postFeatured" class="text-sm font-semibold text-gray-700">
            ‚≠ê Marcar como post em destaque
          </label>
        </div>

        <!-- Buttons -->
        <div class="flex gap-3 pt-4">
          <button 
            type="button"
            id="cancelNewPost"
            class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-full font-medium hover:bg-gray-50 transition"
          >
            Cancelar
          </button>
          <button 
            type="submit"
            class="flex-1 px-6 py-3 bg-primary text-white rounded-full font-medium hover:bg-pink-600 transition"
          >
            <span id="submitButtonText">Publicar Post</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-white py-6 mt-16 border-t text-center text-gray-500 text-sm">
    ¬© 2025 PetConnect ‚Äî Hist√≥rias que inspiram ado√ß√£o ‚ù§Ô∏è
  </footer>

  <!-- Scripts -->
  <script>
    // Mock data com conte√∫do completo
    let postsMock = [
      {
        id: '1',
        title: "Ado√ß√£o respons√°vel: o que voc√™ precisa saber üê∂",
        author: "ONG Patas Felizes",
        date: "10/11/2025",
        category: "tips",
        excerpt: "Adotar √© um ato de amor, mas tamb√©m de responsabilidade. Veja o que considerar antes de levar um pet para casa.",
        content: `Adotar um animal √© uma decis√£o que envolve amor, compromisso e muita responsabilidade. Antes de dar esse importante passo, √© essencial estar preparado para oferecer uma vida digna e cheia de cuidados ao seu futuro companheiro.

**O que considerar antes de adotar:**

1. **Tempo dispon√≠vel:** Pets precisam de aten√ß√£o, brincadeiras e exerc√≠cios di√°rios. Avalie se sua rotina permite dedicar tempo de qualidade ao animal.

2. **Espa√ßo adequado:** Considere o tamanho do seu lar e se ele √© adequado para o tipo de pet que voc√™ deseja adotar. Cachorros grandes, por exemplo, precisam de mais espa√ßo para se movimentar.

3. **Custos financeiros:** Alimenta√ß√£o, vacinas, consultas veterin√°rias, medicamentos e acess√≥rios s√£o despesas cont√≠nuas. Certifique-se de que pode arcar com esses custos.

4. **Comprometimento de longo prazo:** Pets vivem muitos anos. Um cachorro pode viver de 10 a 15 anos, e gatos at√© 20 anos. Voc√™ est√° pronto para esse compromisso?

5. **Fam√≠lia preparada:** Todos os membros da fam√≠lia devem estar de acordo com a ado√ß√£o e dispostos a ajudar nos cuidados.

**Benef√≠cios da ado√ß√£o:**

Ao adotar, voc√™ n√£o apenas ganha um amigo fiel, mas tamb√©m salva uma vida e abre espa√ßo em abrigos para que outros animais sejam resgatados. Al√©m disso, animais adotados costumam ser extremamente gratos e carinhosos com suas novas fam√≠lias.

**Como adotar:**

Entre em contato com ONGs e abrigos da sua regi√£o. Muitas organiza√ß√µes realizam eventos de ado√ß√£o e t√™m processos de entrevista para garantir que o pet encontre o lar ideal.

Lembre-se: ado√ß√£o √© para sempre! ‚ù§Ô∏è`,
        image: "https://images.unsplash.com/photo-1601758228041-f3b2795255f1?auto=format&fit=crop&w=800&q=80",
        featured: true,
        tags: ['ado√ß√£o', 'responsabilidade', 'dicas']
      },
      {
        id: '2',
        title: "Evento de ado√ß√£o em S√£o Paulo üèôÔ∏è",
        author: "ONG Cora√ß√£o Animal",
        date: "22/10/2025",
        category: "event",
        excerpt: "Venha conhecer nossos animais dispon√≠veis para ado√ß√£o no parque Villa-Lobos neste fim de semana!",
        content: `üìÖ **Quando:** S√°bado e Domingo, das 10h √†s 17h
üìç **Onde:** Parque Villa-Lobos - S√£o Paulo/SP

Estamos muito animados em anunciar nosso grande evento de ado√ß√£o! Teremos dezenas de c√£es e gatos de todas as idades, tamanhos e personalidades esperando para conhecer suas futuras fam√≠lias.

**O que voc√™ encontrar√° no evento:**

üêï Mais de 50 animais dispon√≠veis para ado√ß√£o
üë®‚Äç‚öïÔ∏è Veterin√°rios para tirar d√∫vidas sobre cuidados
üìã Equipe para auxiliar no processo de ado√ß√£o
üé™ Atividades para toda a fam√≠lia
üéÅ Brindes e descontos em produtos pet

**Requisitos para adotar:**

- Ser maior de 18 anos
- Apresentar documento com foto
- Comprovante de resid√™ncia
- Passar por uma breve entrevista

**Por que participar?**

Mesmo que voc√™ n√£o possa adotar agora, sua presen√ßa ajuda muito! Voc√™ pode:
- Conhecer o trabalho da ONG
- Compartilhar nas redes sociais
- Fazer doa√ß√µes
- Se voluntariar

Todos os animais est√£o vacinados, vermifugados e castrados (quando poss√≠vel pela idade). Venha conhecer seu novo melhor amigo!

**Informa√ß√µes:**
üìû (11) 98765-4321
üìß contato@coracaoanimal.org.br

Nos vemos l√°! üêæ`,
        image: "https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=800&q=80",
        featured: false,
        tags: ['evento', 'ado√ß√£o', 's√£o paulo']
      },
      {
        id: '3',
        title: "Hist√≥ria de supera√ß√£o: Thor encontrou um lar ‚ù§Ô∏è",
        author: "ONG Esperan√ßa",
        date: "15/10/2025",
        category: "adoption-story",
        excerpt: "Thor foi resgatado em situa√ß√£o cr√≠tica e hoje vive feliz com sua nova fam√≠lia. Conhe√ßa essa hist√≥ria emocionante.",
        content: `Esta √© uma daquelas hist√≥rias que nos lembram por que fazemos o que fazemos. Thor, um lindo vira-lata de porte m√©dio, chegou at√© n√≥s em uma situa√ß√£o desesperadora.

**O Resgate**

Thor foi encontrado abandonado em uma estrada, debilitado, com sinais de maus-tratos e muito assustado. Mal conseguia ficar em p√© e estava com desnutri√ß√£o severa. Nossa equipe o resgatou imediatamente e levou para atendimento veterin√°rio de emerg√™ncia.

**A Recupera√ß√£o**

Durante tr√™s meses, Thor recebeu todos os cuidados necess√°rios: alimenta√ß√£o adequada, medicamentos, fisioterapia e, principalmente, muito amor. Aos poucos, ele foi recuperando n√£o apenas o peso, mas tamb√©m a confian√ßa nos humanos.

Apesar do trauma, Thor mostrou uma resili√™ncia incr√≠vel. Come√ßou a abanar o rabo quando via os volunt√°rios, aceitava carinho e at√© brincava com outros cachorros do abrigo.

**O Encontro Perfeito**

Ana e Pedro vieram ao abrigo procurando um companheiro para suas caminhadas nos finais de semana. Quando conheceram Thor, foi amor √† primeira vista ‚Äì de ambos os lados! Thor n√£o parava de abanar o rabo e lambia as m√£os do casal sem parar.

Depois de todo o processo de entrevista e visita domiciliar, Thor finalmente foi para seu lar definitivo h√° dois meses. O casal nos enviou fotos e v√≠deos mostrando como Thor est√° feliz: brinca no quintal, dorme na cama (sim, ele conquistou esse direito!), e √© tratado como membro da fam√≠lia que sempre mereceu ser.

**A Mensagem**

A hist√≥ria de Thor nos mostra que n√£o importa o passado dif√≠cil que um animal teve ‚Äì com amor, paci√™ncia e cuidados adequados, eles podem florescer e se tornar companheiros incr√≠veis.

Se voc√™ est√° pensando em adotar, lembre-se: voc√™ n√£o est√° apenas mudando a vida de um animal, est√° sendo transformado por esse amor incondicional tamb√©m.

Thor nos ensinou que vale a pena lutar, que vale a pena acreditar, e que o amor sempre vence. üíô

#Hist√≥riaDeAdo√ß√£o #Supera√ß√£o #Ado√ß√£oRespons√°vel`,
        image: "https://images.unsplash.com/photo-1587300003388-59208cc962cb?auto=format&fit=crop&w=800&q=80",
        featured: false,
        tags: ['hist√≥ria', 'supera√ß√£o', 'resgate', 'ado√ß√£o']
      },
      {
        id: '4',
        title: "Dicas para o primeiro dia do pet em casa üè†",
        author: "ONG Patas Felizes",
        date: "05/11/2025",
        category: "tips",
        excerpt: "Acabou de adotar? Veja como tornar a adapta√ß√£o mais tranquila para voc√™ e seu novo amigo!",
        content: `O primeiro dia do pet em casa √© emocionante, mas tamb√©m pode ser estressante ‚Äì tanto para voc√™ quanto para o animal. Aqui est√£o dicas essenciais para uma transi√ß√£o suave:

**Prepara√ß√£o Antes da Chegada:**

‚úì Compre os itens essenciais: comedouro, bebedouro, cama, brinquedos
‚úì Defina √°reas permitidas da casa
‚úì Retire objetos perigosos do alcance
‚úì Escolha um c√¥modo tranquilo para as primeiras horas

**No Primeiro Dia:**

1. **Mantenha a calma:** Seu pet sentir√° sua energia. Respire fundo e seja paciente.

2. **Apresente a casa aos poucos:** N√£o deixe o animal explorar tudo de uma vez. Comece por um c√¥modo.

3. **Ofere√ßa √°gua e comida:** Mas n√£o force se ele n√£o quiser comer logo. √â normal a falta de apetite no in√≠cio.

4. **Deixe-o cheirar tudo:** √â assim que os pets exploram o mundo.

5. **Estabele√ßa rotina desde o in√≠cio:** Hor√°rios para comer, passear e dormir ajudam na adapta√ß√£o.

**Primeiros Dias:**

- Evite visitas nos primeiros 2-3 dias
- N√£o o deixe sozinho por muito tempo
- Seja paciente com poss√≠veis acidentes
- Reforce comportamentos positivos
- Procure um veterin√°rio para check-up

**Sinais de Adapta√ß√£o:**

‚úì Come√ßa a comer normalmente
‚úì Explora a casa com mais confian√ßa
‚úì Busca sua companhia
‚úì Dorme tranquilamente

Lembre-se: cada animal tem seu tempo. Alguns se adaptam em dias, outros podem levar semanas. O importante √© oferecer amor, paci√™ncia e seguran√ßa.

Parab√©ns pela ado√ß√£o! üéâ`,
        image: "https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?auto=format&fit=crop&w=800&q=80",
        featured: false,
        tags: ['dicas', 'adapta√ß√£o', 'primeiro dia']
      }
    ];

    // Category badges
    const categoryConfig = {
      'adoption-story': { label: 'üè† Hist√≥ria de Ado√ß√£o', color: 'bg-green-100 text-green-800' },
      'event': { label: 'üìÖ Evento', color: 'bg-blue-100 text-blue-800' },
      'tips': { label: 'üí° Dicas', color: 'bg-yellow-100 text-yellow-800' },
      'news': { label: 'üì∞ Not√≠cias', color: 'bg-purple-100 text-purple-800' },
      'campaign': { label: 'üì¢ Campanha', color: 'bg-pink-100 text-pink-800' },
      'rescue': { label: 'üö® Resgate', color: 'bg-red-100 text-red-800' },
      'other': { label: 'üìù Outro', color: 'bg-gray-100 text-gray-800' }
    };

    let currentViewingPostId = null;
    let isEditMode = false;

    // Render posts
    function renderPosts() {
      const postsGrid = document.getElementById("postsGrid");
      postsGrid.innerHTML = '';
      
      // Sort by featured first, then by date
      const sortedPosts = [...postsMock].sort((a, b) => {
        if (a.featured === b.featured) {
          return 0;
        }
        return a.featured ? -1 : 1;
      });
      
      sortedPosts.forEach(post => {
        const category = categoryConfig[post.category] || categoryConfig.other;
        const card = document.createElement("div");
        card.className = `bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition transform hover:-translate-y-1 cursor-pointer ${post.featured ? 'ring-2 ring-primary' : ''}`;
        card.innerHTML = `
          ${post.featured ? '<div class="bg-primary text-white text-xs font-bold px-4 py-2 text-center">‚≠ê POST EM DESTAQUE</div>' : ''}
          <div class="relative">
            <img src="${post.image}" alt="${post.title}" class="w-full h-48 object-cover">
            <span class="absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-medium ${category.color} backdrop-blur-sm">
              ${category.label}
            </span>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2 text-gray-900 line-clamp-2">${post.title}</h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">${post.excerpt}</p>
            <div class="flex justify-between items-center text-xs text-gray-500 mb-4">
              <span>üë§ ${post.author}</span>
              <span>üìÖ ${post.date}</span>
            </div>
            <button onclick="viewPost('${post.id}')" class="w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white py-2.5 rounded-full font-medium transition transform hover:scale-105">
              üìñ Ler mais
            </button>
          </div>
        `;
        postsGrid.appendChild(card);
      });

      if (sortedPosts.length === 0) {
        postsGrid.innerHTML = `
          <div class="col-span-full text-center py-16">
            <div class="text-6xl mb-4">üìù</div>
            <p class="text-gray-500 text-lg">Nenhum post publicado ainda</p>
            <button onclick="openNewPostModal()" class="mt-4 text-primary font-medium hover:underline">
              Criar primeiro post
            </button>
          </div>
        `;
      }
    }

    // View post
    function viewPost(postId) {
      const post = postsMock.find(p => p.id === postId);
      if (!post) return;

      currentViewingPostId = postId;
      const category = categoryConfig[post.category] || categoryConfig.other;

      document.getElementById('viewPostTitle').textContent = post.title;
      document.getElementById('viewPostImage').src = post.image;
      document.getElementById('viewPostAuthor').innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
        ${post.author}
      `;
      document.getElementById('viewPostDate').innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        ${post.date}
      `;
      document.getElementById('viewPostCategory').innerHTML = `
        <span class="inline-block px-4 py-2 rounded-full text-sm font-medium ${category.color}">
          ${category.label}
        </span>
      `;
      document.getElementById('viewPostContent').textContent = post.content;
      
      // Tags
      const tagsContainer = document.getElementById('viewPostTags');
      if (post.tags && post.tags.length > 0) {
        tagsContainer.innerHTML = post.tags.map(tag => 
          `<span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">#${tag}</span>`
        ).join('');
      } else {
        tagsContainer.innerHTML = '';
      }

      document.getElementById('viewPostModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    // Close view post modal
    function closeViewPostModal() {
      document.getElementById('viewPostModal').classList.add('hidden');
      document.body.style.overflow = 'auto';
      currentViewingPostId = null;
    }

    // Open new post modal
    function openNewPostModal() {
      isEditMode = false;
      document.getElementById('formModalTitle').innerHTML = '<span>‚úçÔ∏è</span> Criar Novo Post';
      document.getElementById('submitButtonText').textContent = 'Publicar Post';
      document.getElementById('newPostForm').reset();
      document.getElementById('editPostId').value = '';
      updateCharCount();
      document.getElementById('newPostModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    // Edit post
    function editPost() {
      if (!currentViewingPostId) return;
      
      const post = postsMock.find(p => p.id === currentViewingPostId);
      if (!post) return;

      isEditMode = true;
      document.getElementById('formModalTitle').innerHTML = '<span>‚úèÔ∏è</span> Editar Post';
      document.getElementById('submitButtonText').textContent = 'Salvar Altera√ß√µes';
      
      document.getElementById('editPostId').value = post.id;
      document.getElementById('postTitle').value = post.title;
      document.getElementById('postCategory').value = post.category;
      document.getElementById('postExcerpt').value = post.excerpt;
      document.getElementById('postContent').value = post.content;
      document.getElementById('postImageUrl').value = post.image;
      document.getElementById('postTags').value = post.tags ? post.tags.join(', ') : '';
      document.getElementById('postFeatured').checked = post.featured;

      updateCharCount();
      closeViewPostModal();
      document.getElementById('newPostModal').classList.remove('hidden');
    }

    // Delete post
    function deletePost() {
      if (!currentViewingPostId) return;
      
      if (confirm('Tem certeza que deseja excluir este post? Esta a√ß√£o n√£o pode ser desfeita.')) {
        postsMock = postsMock.filter(p => p.id !== currentViewingPostId);
        closeViewPostModal();
        renderPosts();
        showNotification('Post exclu√≠do com sucesso!', 'success');
      }
    }

    // Close new post modal
    function closeNewPostModal() {
      document.getElementById('newPostModal').classList.add('hidden');
      document.body.style.overflow = 'auto';
      document.getElementById('newPostForm').reset();
      updateCharCount();
    }

    // Character count
    function updateCharCount() {
      const excerpt = document.getElementById('postExcerpt').value;
      const content = document.getElementById('postContent').value;
      document.getElementById('excerptCount').textContent = excerpt.length;
      document.getElementById('contentCount').textContent = content.length;
    }

    // Show notification
    function showNotification(message, type = 'success') {
      const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
      const notification = document.createElement('div');
      notification.className = `fixed top-20 right-6 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300`;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.classList.add('opacity-0');
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Form submission
    document.getElementById('newPostForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const editId = document.getElementById('editPostId').value;
      
      const postData = {
        id: editId || String(Date.now()),
        title: formData.get('title'),
        category: formData.get('category'),
        excerpt: formData.get('excerpt'),
        content: formData.get('content'),
        image: formData.get('imageUrl'),
        author: 'Minha ONG',
        date: new Date().toLocaleDateString('pt-BR'),
        featured: formData.get('featured') === 'on',
        tags: formData.get('tags') ? formData.get('tags').split(',').map(t => t.trim()) : []
      };

      if (editId) {
        // Edit existing post
        const index = postsMock.findIndex(p => p.id === editId);
        if (index !== -1) {
          postsMock[index] = { ...postsMock[index], ...postData };
          showNotification('Post atualizado com sucesso!', 'success');
        }
      } else {
        // Add new post
        postsMock.unshift(postData);
        showNotification('Post publicado com sucesso!', 'success');
      }
      
      closeNewPostModal();
      renderPosts();
    });

    // Event listeners
    document.getElementById('openNewPostModal').addEventListener('click', openNewPostModal);
    document.getElementById('closeNewPostModal').addEventListener('click', closeNewPostModal);
    document.getElementById('cancelNewPost').addEventListener('click', closeNewPostModal);
    document.getElementById('closeViewPostModal').addEventListener('click', closeViewPostModal);
    document.getElementById('editPostBtn').addEventListener('click', editPost);
    document.getElementById('deletePostBtn').addEventListener('click', deletePost);
    
    // Close modals on outside click
    document.getElementById('newPostModal').addEventListener('click', function(e) {
      if (e.target === this) closeNewPostModal();
    });
    document.getElementById('viewPostModal').addEventListener('click', function(e) {
      if (e.target === this) closeViewPostModal();
    });

    // Character count listeners
    document.getElementById('postExcerpt').addEventListener('input', updateCharCount);
    document.getElementById('postContent').addEventListener('input', updateCharCount);

    // Logout
    document.getElementById('logoutBtn').addEventListener('click', function() {
      localStorage.removeItem('userInfo');
      window.location.href = 'index.html';
    });

    // Make functions global
    window.viewPost = viewPost;

    // Initial render
    renderPosts();
  </script>
</body>
</html>